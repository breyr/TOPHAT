generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id           Int      @id @default(autoincrement())
  username     String   @db.VarChar
  email        String   @unique @db.VarChar
  password     String   @db.VarChar
  account_type String   @db.VarChar
  created_at   DateTime @db.Timestamp(6)
  updated_at   DateTime @db.Timestamp(6)

  @@index([username], map: "ix_user_username")
}

model topology {
  id               Int      @id @default(autoincrement())
  user_id          Int
  name             String   @db.VarChar
  thumbnail        Bytes
  react_flow_state Json
  expires_on       DateTime @db.Timestamp(6)
  archived         Boolean  @default(false)

  @@index([user_id], map: "ix_topology_user_id")
}
